# ONVIF VMS Server Configuration

# Server Configuration
PORT=3001
NODE_ENV=development

# ONVIF Configuration - Optimized timeouts for stability
ONVIF_DISCOVERY_TIMEOUT=15000
ONVIF_CONNECTION_TIMEOUT=45000
ONVIF_DEFAULT_PORT=80

# FFmpeg Configuration - Fixed for FFmpeg 6.1.1 compatibility
FFMPEG_PATH=ffmpeg
FFMPEG_TIMEOUT=45000
FFMPEG_RECONNECT_ENABLED=false
RECORDING_DEBUG=true
RECORDINGS_DIR=./public/recordings

# Video Quality Profiles
VIDEO_QUALITY_PROFILES=low,medium,high
DEFAULT_VIDEO_CODEC=libx264
DEFAULT_AUDIO_CODEC=aac

# Recording Configuration - Enhanced reliability
RECORDING_RETRY_ATTEMPTS=3
RECORDING_RETRY_DELAY=5000
CHUNK_BUFFER_TIME=10000
AUTO_CLEANUP_FAILED_RECORDINGS=true
MAX_RECORDING_DURATION=7200

# Performance Configuration
REQUEST_TIMEOUT=45000
MAX_REQUEST_SIZE=50mb
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
PROCESS_CLEANUP_INTERVAL=30000

# Database Configuration
DATABASE_PATH=./onvif_vms.db
DATABASE_BACKUP_INTERVAL=3600000

# Security Configuration
SESSION_SECRET=your-session-secret-here
JWT_SECRET=your-jwt-secret-here
BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Streaming Configuration
HLS_SEGMENT_DURATION=4
HLS_PLAYLIST_SIZE=10
HLS_DIRECTORY=./public/hls

# Debug Configuration
LOG_LEVEL=info
DEBUG_FFMPEG_COMMANDS=true
DEBUG_ONVIF_DISCOVERY=true
DEBUG_PROFILE_LOADING=true

# Network Configuration
RTSP_DEFAULT_PORT=554
HTTP_DEFAULT_PORT=80
ONVIF_MULTICAST_ADDRESS=239.255.255.250
ONVIF_MULTICAST_PORT=3702

# Auto Recording Defaults
AUTO_RECORDING_CHUNK_DURATION=2
AUTO_RECORDING_QUALITY=medium
AUTO_RECORDING_MAX_STORAGE=100
AUTO_RECORDING_RETENTION_PERIOD=30